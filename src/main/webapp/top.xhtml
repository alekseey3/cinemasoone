<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

<ui:composition template="/WEB-INF/template.xhtml">
    <ui:define name="content">

        <h2>–¢–æ–ø –æ–∂–∏–¥–∞–Ω–∏–π</h2>
        <p>–ó–¥–µ—Å—å –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Ñ–∏–ª—å–º—ã, —É –∫–æ—Ç–æ—Ä—ã—Ö –µ—Å—Ç—å –ª–∞–π–∫–∏, –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –ª–∞–π–∫–æ–≤.</p>

        <h:panelGroup rendered="#{not empty movieBean.topMovies}">
            <ui:repeat value="#{movieBean.topMovies}" var="m" varStatus="st">
                <div class="movie-card">
                    <div class="movie-title">
                        #{st.index + 1}. #{m.title}
                        <span class="badge">üëç #{m.likes}</span>
                        <h:panelGroup rendered="#{m.releaseDate != null}">
                            <span class="badge">
                                <h:outputText value="#{m.releaseDate}">
                                    <f:convertDateTime pattern="yyyy-MM-dd"/>
                                </h:outputText>
                            </span>
                        </h:panelGroup>
                    </div>
                    <div>
                        <b>–ñ–∞–Ω—Ä:</b> #{empty m.genre ? '‚Äî' : m.genre}
                    </div>
                    <div>
                        <b>–û–ø–∏—Å–∞–Ω–∏–µ:</b>
                        <h:outputText value="#{empty m.description ? '‚Äî' : m.description}"/>
                    </div>
                </div>
            </ui:repeat>
        </h:panelGroup>

        <h:panelGroup rendered="#{empty movieBean.topMovies}">
            –ü–æ–∫–∞ –Ω–∏ –æ–¥–∏–Ω —Ñ–∏–ª—å–º –Ω–µ –ø–æ–ª—É—á–∏–ª –ª–∞–π–∫–æ–≤. –ó–∞–π–¥–∏ –Ω–∞ –≤–∫–ª–∞–¥–∫—É ¬´–°–∫–æ—Ä–æ –≤ –∫–∏–Ω–æ¬ª –∏ –ø–æ—Å—Ç–∞–≤—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ª–∞–π–∫–æ–≤ üôÇ
        </h:panelGroup>

    </ui:define>
</ui:composition>

</html>